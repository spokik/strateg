"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateDynamicImportRuntime = void 0;
function generateDynamicImportRuntime(entries, dynamicImportIndex) {
    const _entries = Object.entries(entries);
    const name = `__variableDynamicImportRuntime${dynamicImportIndex}__`;
    const cases = _entries.map(([localFile, importeeList]) => {
        const c = importeeList.map(importee => `    case '${importee}':`);
        return `${c.join('\n')}
      return import('${localFile}');
`;
    });
    const body = `
function ${name}(path) {
  switch (path) {
${cases.join('\n')}
    default: return new Promise(function(resolve, reject) {
      (typeof queueMicrotask === 'function' ? queueMicrotask : setTimeout)(
        reject.bind(null, new Error("Unknown variable dynamic import: " + path))
      );
    })
   }
 }
 
 `;
    return { name, body };
}
exports.generateDynamicImportRuntime = generateDynamicImportRuntime;
